{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Prajwal/Desktop/crypto-dashboard-dec/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Prajwal/Desktop/crypto-dashboard-dec/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Prajwal/Desktop/crypto-dashboard-dec/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import CoinInfo from\"../components/Coin/CoinInfo/info\";import LineChart from\"../components/Coin/LineChart/lineChart\";import PriceToggle from\"../components/Coin/PriceToggle/priceToggle\";import SelectDays from\"../components/Coin/SelectDays/selectDays\";import Footer from\"../components/Common/Footer/footer\";import Header from\"../components/Common/Header\";import Loader from\"../components/Common/Loader/loader\";import List from\"../components/Dashboard/List/list\";import{coinObject}from\"../functions/coinObject\";import{getCoinData}from\"../functions/getCoinData\";import{getCoinPrices}from\"../functions/getCoinPrices\";import{settingChartData}from\"../functions/settingChartData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CoinPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),coin=_useState2[0],setCoin=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(120),_useState6=_slicedToArray(_useState5,2),days=_useState6[0],setDays=_useState6[1];var _useState7=useState(\"prices\"),_useState8=_slicedToArray(_useState7,2),priceType=_useState8[0],setPriceType=_useState8[1];var _useState9=useState({labels:[],datasets:[]}),_useState10=_slicedToArray(_useState9,2),chartData=_useState10[0],setChartData=_useState10[1];useEffect(function(){getData();},[id]);var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,prices;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return getCoinData(id);case 3:data=_context.sent;if(!data){_context.next=10;break;}coinObject(setCoin,data);//For Coin Obj being passed in the List\n_context.next=8;return getCoinPrices(id,days,priceType);case 8:prices=_context.sent;if(prices){settingChartData(setChartData,prices,data);setLoading(false);}case 10:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();var handleDaysChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var prices;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);setDays(event.target.value);_context2.next=4;return getCoinPrices(id,event.target.value,priceType);case 4:prices=_context2.sent;if(prices){settingChartData(setChartData,prices,coin);setLoading(false);}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDaysChange(_x){return _ref2.apply(this,arguments);};}();var handlePriceTypeChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){var prices;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading(true);setPriceType(event.target.value);_context3.next=4;return getCoinPrices(id,days,event.target.value);case 4:prices=_context3.sent;if(prices){settingChartData(setChartData,prices,coin);}setLoading(false);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function handlePriceTypeChange(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),loading||!(coin!==null&&coin!==void 0&&coin.id)||!chartData?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grey-wrapper\",children:/*#__PURE__*/_jsx(List,{coin:coin,delay:0.1})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grey-wrapper\",children:[/*#__PURE__*/_jsx(SelectDays,{days:days,handleDaysChange:handleDaysChange}),/*#__PURE__*/_jsx(PriceToggle,{handlePriceTypeChange:handlePriceTypeChange,priceType:priceType}),/*#__PURE__*/_jsx(LineChart,{chartData:chartData,priceType:priceType})]}),/*#__PURE__*/_jsx(CoinInfo,{name:coin.name,desc:coin.desc})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default CoinPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","CoinInfo","LineChart","PriceToggle","SelectDays","Footer","Header","Loader","List","coinObject","getCoinData","getCoinPrices","settingChartData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CoinPage","_useParams","id","_useState","_useState2","_slicedToArray","coin","setCoin","_useState3","_useState4","loading","setLoading","_useState5","_useState6","days","setDays","_useState7","_useState8","priceType","setPriceType","_useState9","labels","datasets","_useState10","chartData","setChartData","getData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","prices","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","handleDaysChange","_ref2","_callee2","event","_callee2$","_context2","target","value","_x","handlePriceTypeChange","_ref3","_callee3","_callee3$","_context3","_x2","children","className","delay","name","desc"],"sources":["C:/Users/Prajwal/Desktop/crypto-dashboard-dec/src/pages/coin.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport CoinInfo from \"../components/Coin/CoinInfo/info\";\r\nimport LineChart from \"../components/Coin/LineChart/lineChart\";\r\nimport PriceToggle from \"../components/Coin/PriceToggle/priceToggle\";\r\nimport SelectDays from \"../components/Coin/SelectDays/selectDays\";\r\nimport Footer from \"../components/Common/Footer/footer\";\r\nimport Header from \"../components/Common/Header\";\r\nimport Loader from \"../components/Common/Loader/loader\";\r\nimport List from \"../components/Dashboard/List/list\";\r\nimport { coinObject } from \"../functions/coinObject\";\r\nimport { getCoinData } from \"../functions/getCoinData\";\r\nimport { getCoinPrices } from \"../functions/getCoinPrices\";\r\nimport { settingChartData } from \"../functions/settingChartData\";\r\n\r\nfunction CoinPage() {\r\n  const { id } = useParams();\r\n  const [coin, setCoin] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [days, setDays] = useState(120);\r\n  const [priceType, setPriceType] = useState(\"prices\");\r\n  const [chartData, setChartData] = useState({\r\n    labels: [],\r\n    datasets: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [id]);\r\n\r\n  const getData = async () => {\r\n    setLoading(true);\r\n    const data = await getCoinData(id);\r\n    if (data) {\r\n      coinObject(setCoin, data); //For Coin Obj being passed in the List\r\n      const prices = await getCoinPrices(id, days, priceType);\r\n      if (prices) {\r\n        settingChartData(setChartData, prices, data);\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDaysChange = async (event) => {\r\n    setLoading(true);\r\n    setDays(event.target.value);\r\n    const prices = await getCoinPrices(id, event.target.value, priceType);\r\n    if (prices) {\r\n      settingChartData(setChartData, prices, coin);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePriceTypeChange = async (event) => {\r\n    setLoading(true);\r\n    setPriceType(event.target.value);\r\n    const prices = await getCoinPrices(id, days, event.target.value);\r\n    if (prices) {\r\n      settingChartData(setChartData, prices, coin);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      {loading || !coin?.id || !chartData ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <div className=\"grey-wrapper\">\r\n            <List coin={coin} delay={0.1} />\r\n          </div>\r\n          <div className=\"grey-wrapper\">\r\n            <SelectDays days={days} handleDaysChange={handleDaysChange} />\r\n            <PriceToggle\r\n              handlePriceTypeChange={handlePriceTypeChange}\r\n              priceType={priceType}\r\n            />\r\n            <LineChart chartData={chartData} priceType={priceType} />\r\n          </div>\r\n          <CoinInfo name={coin.name} desc={coin.desc} />\r\n        </>\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CoinPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}